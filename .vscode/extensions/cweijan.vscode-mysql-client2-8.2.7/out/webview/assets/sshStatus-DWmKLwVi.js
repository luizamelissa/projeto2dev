import{a as D,I as f,e as l,v as c,y as T,f as _,h as t,af as P,g as y,t as e,j as o,$ as n,K as r,k as u,ak as b,o as m}from"./app-eQbeWD5H.js";import{B as L,L as B,D as g,a as I,b as V}from"./lineChartData-BuVekpNq.js";class d extends L{static getOption(a){return{cutout:45,responsive:!0,plugins:{title:{text:a,display:!0}}}}static formatPercent(a){return`${(a*100).toFixed(1)}%`}static getDoughnutData(a){return{datasets:[{data:[a,1-a],borderColor:["rgb(94, 154, 239)","rgb(233, 233, 233)"],backgroundColor:["rgb(94, 154, 239)","rgb(233, 233, 233)"]}]}}}const G={class:"status-container"},H={class:"info-container"},O={style:{display:"inline-block","margin-right":"50px"}},M={class:"info-title"},N={key:0},$={class:"info-col"},j=["innerHTML"],z={class:"info-col"},E={class:"info-col"},F={class:"red"},K={key:1,class:"info-col"},q={style:{display:"inline-block"}},A={class:"info-title"},J={class:"info-col"},Q={class:"info-col"},R={class:"info-col"},W=["innerHTML"],X={class:"info-title"},Y={class:"ring-graph-status"},Z={class:"donut-inner"},ss={class:"ring-graph-status"},ts={class:"donut-inner"},es={class:"ring-graph-status"},os={class:"donut-inner"},as={class:"network-container"},ns={class:"info-title"},is={style:{height:"300px"}},us=D({__name:"sshStatus",setup(S){const a=f({cpu:null,disk:null,memory:null,network:null}),s=f({serverType:"linux",os:"Loading",kernelVersion:"Loading",arch:"x86_64",hostname:"localhost",upTime:"0",diskUsage:{total:"0G",used:"0G",available:"0G",usePercent:0},memoryUsage:{total:"0 GB",used:"0 GB",free:"0 MB",usePercent:0},cpu:{name:"",clock:"0GHz",logicCoreCount:"0",usePercent:0},traffic:{labels:[],data1:[],data2:[],tooltips:[],lock:!1,previous:null}}),v=l(()=>s.serverType=="linux");l(()=>s.serverType!="macos");const{formatPercent:h,getDoughnutData:p}=d,x=l(()=>p(s.cpu.usePercent)),C=l(()=>p(s.memoryUsage.usePercent)),w=l(()=>p(s.diskUsage.usePercent)),k=new B,U=k.toChartData();return c.on("error",()=>{T("SSH service connection failed!")}).on("serverType",i=>{s.serverType=i}).on("info",i=>{Object.assign(s,i),a.memory||(a.memory=setInterval(()=>c.emit("memory"),3e3)),s.serverType=="windows"?c.emit("cpu"):(c.emit("network"),a.network||(a.network=setInterval(()=>c.emit("network"),1e3))),a.disk||(a.disk=setInterval(()=>c.emit("disk"),3e3)),a.cpu||(a.cpu=setInterval(()=>c.emit("cpu"),1e3))}).on("cpu",i=>{s.cpu.usePercent=i}).on("disk",i=>{s.diskUsage=i}).on("memory",i=>{s.memoryUsage=i}).on("network",i=>{k.addData(i)}).emit("init"),(i,cs)=>(m(),_("div",G,[t("div",H,[t("div",O,[t("div",M,e(o(n)("sshStatus.systemInfo"))+": ",1),s.upTime?(m(),_("div",N,e(o(n)("sshStatus.runTime"))+": "+e(s.upTime),1)):y("",!0),t("span",$,[r(e(o(n)("sshStatus.arch"))+": ",1),t("span",{innerHTML:s.arch},null,8,j)]),t("span",z,e(o(n)("sshStatus.hostname"))+": "+e(s.hostname),1),t("span",E,[r(e(o(n)("sshStatus.os"))+": ",1),t("span",F,e(s.os),1)]),v.value?(m(),_("span",K,e(o(n)("sshStatus.kernelVersion"))+": "+e(s.kernelVersion),1)):y("",!0)]),t("div",q,[t("div",A,e(o(n)("sshStatus.cpuInfo"))+": ",1),t("div",null,[t("span",J,e(o(n)("sshStatus.cpuClock"))+":"+e(s.cpu.clock),1),t("span",Q,e(o(n)("sshStatus.cpuCoreCount"))+":"+e(s.cpu.logicCoreCount),1),t("span",R,[r(e(o(n)("sshStatus.cpuName"))+": ",1),t("span",{innerHTML:s.cpu.name},null,8,W)])])])]),t("div",null,[t("div",X,e(o(n)("sshStatus.systemStatus"))+": ",1),t("div",Y,[u(o(g),{options:o(d).getOption("CPU"),data:x.value,style:{width:"160px",height:"160px"}},null,8,["options","data"]),r(" "+e(s.cpu.clock)+" ",1),t("div",Z,e(o(h)(s.cpu.usePercent)),1)]),t("div",ss,[u(o(g),{options:o(d).getOption(o(n)("sshStatus.memory")),data:C.value,style:{width:"160px",height:"160px"}},null,8,["options","data"]),r(" "+e(s.memoryUsage.used)+"/"+e(s.memoryUsage.total)+" ",1),t("div",ts,e(o(h)(s.memoryUsage.usePercent)),1)]),t("div",es,[u(o(g),{options:o(d).getOption(o(n)("sshStatus.disk")),data:w.value,style:{width:"160px",height:"160px"}},null,8,["options","data"]),r(" "+e(s.diskUsage.used)+"/"+e(s.diskUsage.total)+" ",1),t("div",os,e(o(h)(s.diskUsage.usePercent)),1)])]),P(t("div",as,[t("div",ns,e(o(n)("sshStatus.network"))+": ",1),t("div",is,[u(o(V),{style:{height:"100%"},options:o(I).getOption(!0),data:o(U)},null,8,["options","data"])])],512),[[b,v.value]])]))}});export{us as default};
